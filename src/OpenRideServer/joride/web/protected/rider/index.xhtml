<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      >


    <h:head> <!-- enforce UTF 8. also, header is needed for primefaces to work  -->
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    </h:head>



    <body>

        <ui:composition template="/templates/navbar1Layout.xhtml">



            <!-- highlight "preferences" tab -->
            <ui:param name="jrtabindex" value="#{jrtab.jorideTabindexRider}" />



            <ui:define name="windowTitle">
                #{msgs.title}
            </ui:define>

            <ui:define name="content">

                #{filteredList.updateFutureRides()}

                
                
                <!--  local links to different kinds of ride on top  -->

                <table>
                    <h:panelGroup  rendered="#{filteredList.hasRides()}">
                        <tr>  
                            <td class="formLabel">
                                <a href="#allRides"> 
                                    #{msgs.rideListAllRequests}
                                </a>
                            </td>
                            <td> : </td>
                            <td> #{filteredList.numberOfAllRides} </td>
                        </tr>

                    </h:panelGroup>
                    
                     <h:panelGroup rendered="#{filteredList.hasUpdatedRides()}" >
                        <tr>  
                            <td class="formLabel">
                                <a href="#updatedRides"> 
                                    #{msgs.rideListUpdatedRequests}
                                </a>
                            </td>
                            <td> : </td>
                            <td> #{filteredList.numberOfUpdatedRides} </td>
                        </tr>
                    </h:panelGroup>
                    

                    <h:panelGroup  rendered="#{filteredList.hasNewRides()}" >
                        <tr>  
                            <td class="formLabel">
                                <a href="#newRides"> 
                                    #{msgs.rideListNewRequests}
                                </a>
                            </td>
                            <td> : </td>
                            <td> #{filteredList.numberOfNewRides} </td>
                        </tr>
                    </h:panelGroup>

                    <h:panelGroup  rendered="#{filteredList.hasRiderRequestedRides()}" >
                        <tr>  
                            <td class="formLabel">
                                <a href="#riderRequestedRides"> 
                                    #{msgs.rideListRiderAcceptedRequests}
                                </a>
                            </td>
                            <td> : </td>
                            <td> #{filteredList.numberOfRiderRequestedRides} </td>
                        </tr>
                    </h:panelGroup>

                    <h:panelGroup   rendered="#{filteredList.hasDriverAcceptedRides()}" >
                        <tr>  
                            <td class="formLabel">
                                <a href="#driverAcceptedRides"> 
                                     #{msgs.rideListDriverAcceptedOffers}
                                </a>
                            </td>
                            <td> : </td>
                            <td> #{filteredList.numberOfDriverAcceptedRides} </td>
                        </tr>
                    </h:panelGroup>

                    <h:panelGroup  rendered="#{filteredList.hasBothAcceptedRides()}" >
                        <tr>  
                            <td class="formLabel">
                                <a href="#bothAcceptedRides"> 
                                    #{msgs.rideListBothAcceptedOffers}
                                </a>
                            </td>
                            <td> : </td>
                            <td> #{filteredList.numberOfBothAcceptedRides} </td>
                        </tr>
                    </h:panelGroup>

                    <h:panelGroup  rendered="#{filteredList.hasRiderRejectedRides()}" >
                        <tr>  
                            <td class="formLabel">
                                <a href="#riderRejectedRides"> 
                                   #{msgs.rideListRiderRejectedRequests}
                                </a>
                            </td>
                            <td> : </td>
                            <td> #{filteredList.numberOfRiderRejectedRides} </td>
                        </tr>
                    </h:panelGroup>

                    <h:panelGroup   rendered="#{filteredList.hasDriverRejectedRides()}" >
                        <tr>  
                            <td class="formLabel">
                                <a href="#driverRejectedRides"> 
                                     #{msgs.rideListDriverRejectedOffers}
                                </a>
                            </td>
                            <td> : </td>
                            <td> #{filteredList.numberOfDriverRejectedRides} </td>
                        </tr>
                    </h:panelGroup>

                    <h:panelGroup   rendered="#{filteredList.hasBothRejectedRides()}" >
                        <tr>  
                            <td class="formLabel">
                                <a href="#bothAcceptedRides"> 
                                    #{msgs.rideListBothRejectedOffers}
                                </a>
                            </td>
                            <td> : </td>
                            <td> #{filteredList.numberOfBothRejectedRides} </td>
                        </tr>
                    </h:panelGroup>

                    <h:panelGroup  rendered="#{filteredList.hasRiderCountermandedRides()}" >
                        <tr>  
                            <td class="formLabel">
                                <a href="#riderCountermandedRides"> 
                                     #{msgs.rideListRiderCountermandedRequests}
                                </a>
                            </td>
                            <td> : </td>
                            <td> #{filteredList.numberOfRiderCountermandedRides} </td>
                        </tr>
                    </h:panelGroup>

                    <h:panelGroup   rendered="#{filteredList.hasDriverCountermandedRides()}" >
                        <tr>  
                            <td class="formLabel">
                                <a href="#driverCountermandedRides"> 
                                    #{msgs.rideListDriverCountermandedOffers}
                                </a>
                            </td>
                            <td> : </td>
                            <td> #{filteredList.numberOfDriverCountermandedRides} </td>
                        </tr>
                    </h:panelGroup>

                    <h:panelGroup  rendered="#{filteredList.hasBothCountermandedRides()}" >
                        <tr>  
                            <td class="formLabel">
                                <a href="#bothCountermandedRides"> 
                                   #{msgs.rideListBothCountermandedOffers}
                                </a>
                            </td>
                            <td> : </td>
                            <td> #{filteredList.numberOfBothCountermandedRides} </td>
                        </tr>
                    </h:panelGroup>

                    <h:panelGroup  rendered="#{filteredList.hasUnavaillableRides()}" >
                        <tr>  
                            <td class="formLabel">
                                <a href="#unavaillableRides"> 
                                    #{msgs.rideListUnavaillableRides}
                                </a>
                            </td>
                            <td> : </td>
                            <td> #{filteredList.numberOfUnavaillableRides} </td>
                        </tr>
                    </h:panelGroup>

                   

                    <h:panelGroup   rendered="#{filteredList.hasUnclearRides()}" >
                        <tr>  
                            <td class="formLabel">
                                <a href="#unclearRides"> 
                                    #{msgs.rideListUnclearRides}
                                </a>
                            </td>
                            <td> : </td>
                            <td> #{filteredList.numberOfUnclearRides} </td>
                        </tr>
                    </h:panelGroup>
                </table>

                <h:panelGroup  id="allRides" rendered="#{filteredList.hasRides()}" >
                    <p>
                        <a name="allRides"/> 
                        <p:panel header="#{msgs.rideListAllRequests}">
                            <!-- primefaces dynamic accordion COOL!  -->
                            <p:accordionPanel  activeIndex="-1" value="#{filteredList.allRides}" var="ride">
                                <p:tab title=" #{ride.updatedShortcut} #{ride.startDateFormatted} #{ride.endptAddressShort} ">
                                    <ui:include src="/sections/joride/riderlistelement.xhtml" />
                                </p:tab>
                            </p:accordionPanel>
                        </p:panel>
                    </p>
                </h:panelGroup>

                <h:panelGroup  id="newRides" rendered="#{filteredList.hasNewRides()}" >
                    <p>
                        <a name="newRides"/> 
                        <p:panel header="#{msgs.rideListNewRequests}">
                            <!-- primefaces dynamic accordion COOL!  -->
                            <p:accordionPanel  activeIndex="-1" value="#{filteredList.newRides}" var="ride">
                                <p:tab title=" #{ride.updatedShortcut} #{ride.startDateFormatted} #{ride.endptAddressShort} ">
                                    <ui:include src="/sections/joride/riderlistelement.xhtml" />
                                </p:tab>
                            </p:accordionPanel>
                        </p:panel>
                    </p>
                </h:panelGroup>

                <h:panelGroup  id="riderRequestedRides" rendered="#{filteredList.hasRiderRequestedRides()}" >
                    <p>
                        <a name="riderRequestedRides"/> 
                        <p:panel header="#{msgs.rideListRiderAcceptedRequests}">
                            <!-- primefaces dynamic accordion COOL!  -->
                            <p:accordionPanel  activeIndex="-1" value="#{filteredList.riderRequestedRides}" var="ride">
                                <p:tab title=" #{ride.updatedShortcut} #{ride.startDateFormatted} #{ride.endptAddressShort} ">
                                    <ui:include src="/sections/joride/riderlistelement.xhtml" />
                                </p:tab>
                            </p:accordionPanel>
                        </p:panel>
                    </p>
                </h:panelGroup>

                <h:panelGroup  id="driverAcceptedRides" rendered="#{filteredList.hasDriverAcceptedRides()}" >
                    <p>
                        <a name="driverAcceptedRides"/> 
                        <p:panel header="#{msgs.rideListNewRequests}">
                            <!-- primefaces dynamic accordion COOL!  -->
                            <p:accordionPanel  activeIndex="-1" value="#{filteredList.driverAcceptedRides}" var="ride">
                                <p:tab title=" #{ride.updatedShortcut} #{ride.startDateFormatted} #{ride.endptAddressShort} ">
                                    <ui:include src="/sections/joride/riderlistelement.xhtml" />
                                </p:tab>
                            </p:accordionPanel>
                        </p:panel>
                    </p>
                </h:panelGroup>

                <h:panelGroup  id="bothAcceptedRides" rendered="#{filteredList.hasBothAcceptedRides()}" >
                    <p>
                        <a name="bothAcceptedRides"/> 
                        <p:panel header="#{msgs.rideListBothAcceptedOffers}">
                            <!-- primefaces dynamic accordion COOL!  -->
                            <p:accordionPanel  activeIndex="-1" value="#{filteredList.bothAcceptedRides}" var="ride">
                                <p:tab title=" #{ride.updatedShortcut} #{ride.startDateFormatted} #{ride.endptAddressShort} ">
                                    <ui:include src="/sections/joride/riderlistelement.xhtml" />
                                </p:tab>
                            </p:accordionPanel>
                        </p:panel>
                    </p>
                </h:panelGroup>

                <h:panelGroup  id="riderRejectedRides" rendered="#{filteredList.hasRiderRejectedRides()}" >
                    <p>
                        <a name="riderRejectedRides"/> 
                        <p:panel header="#{msgs.rideListRiderRejectedRequests}">
                            <!-- primefaces dynamic accordion COOL!  -->
                            <p:accordionPanel  activeIndex="-1" value="#{filteredList.riderRejectedRides}" var="ride">
                                <p:tab title=" #{ride.updatedShortcut} #{ride.startDateFormatted} #{ride.endptAddressShort} ">
                                    <ui:include src="/sections/joride/riderlistelement.xhtml" />
                                </p:tab>
                            </p:accordionPanel>
                        </p:panel>
                    </p>
                </h:panelGroup>

                <h:panelGroup  id="driverRejectedRides" rendered="#{filteredList.hasDriverRejectedRides()}" >
                    <p>
                        <a name="driverRejectedRides"/> 
                        <p:panel header="#{msgs.rideListDriverRejectedOffers}">
                            <!-- primefaces dynamic accordion COOL!  -->
                            <p:accordionPanel  activeIndex="-1" value="#{filteredList.driverRejectedRides}" var="ride">
                                <p:tab title=" #{ride.updatedShortcut} #{ride.startDateFormatted} #{ride.endptAddressShort} ">
                                    <ui:include src="/sections/joride/riderlistelement.xhtml" />
                                </p:tab>
                            </p:accordionPanel>
                        </p:panel>
                    </p>
                </h:panelGroup>

                <h:panelGroup  id="bothRejectedRides" rendered="#{filteredList.hasBothRejectedRides()}" >
                    <p>
                        <a name="bothRejectedRides"/> 
                        <p:panel header="#{msgs.rideListBothRejectedOffers}">
                            <!-- primefaces dynamic accordion COOL!  -->
                            <p:accordionPanel  activeIndex="-1" value="#{filteredList.bothAcceptedRides}" var="ride">
                                <p:tab title=" #{ride.updatedShortcut} #{ride.startDateFormatted} #{ride.endptAddressShort} ">
                                    <ui:include src="/sections/joride/riderlistelement.xhtml" />
                                </p:tab>
                            </p:accordionPanel>
                        </p:panel>
                    </p>
                </h:panelGroup>

                <h:panelGroup  id="riderCountermandedRides" rendered="#{filteredList.hasRiderCountermandedRides()}" >
                    <p>
                        <a name="riderCountermandedRides"/> 
                        <p:panel header="#{msgs.rideListRiderAcceptedRequests}">
                            <!-- primefaces dynamic accordion COOL!  -->
                            <p:accordionPanel  activeIndex="-1" value="#{filteredList.riderCountermandedRides}" var="ride">
                                <p:tab title=" #{ride.updatedShortcut} #{ride.startDateFormatted} #{ride.endptAddressShort} ">
                                    <ui:include src="/sections/joride/riderlistelement.xhtml" />
                                </p:tab>
                            </p:accordionPanel>
                        </p:panel>
                    </p>
                </h:panelGroup>

                <h:panelGroup  id="driverCountermandedRides" rendered="#{filteredList.hasDriverCountermandedRides()}" >
                    <p>
                        <a name="driverCountermandedRides"/> 
                        <p:panel header="#{msgs.rideListDriverCountermandedOffers}">
                            <!-- primefaces dynamic accordion COOL!  -->
                            <p:accordionPanel  activeIndex="-1" value="#{filteredList.driverCountermandedRides}" var="ride">
                                <p:tab title=" #{ride.updatedShortcut} #{ride.startDateFormatted} #{ride.endptAddressShort} ">
                                    <ui:include src="/sections/joride/riderlistelement.xhtml" />
                                </p:tab>
                            </p:accordionPanel>
                        </p:panel>
                    </p>
                </h:panelGroup>

                <h:panelGroup  id="bothCountermandedRides" rendered="#{filteredList.hasBothCountermandedRides()}" >
                    <p>
                        <a name="bothCountermandedRides"/> 
                        <p:panel header="#{msgs.rideListBothCountermandedOffers}">
                            <!-- primefaces dynamic accordion COOL!  -->
                            <p:accordionPanel  activeIndex="-1" value="#{filteredList.bothCountermandedRides}" var="ride">
                                <p:tab title=" #{ride.updatedShortcut} #{ride.startDateFormatted} #{ride.endptAddressShort} ">
                                    <ui:include src="/sections/joride/riderlistelement.xhtml" />
                                </p:tab>
                            </p:accordionPanel>
                        </p:panel>
                    </p>
                </h:panelGroup>

                <h:panelGroup  id="unavaillableRides" rendered="#{filteredList.hasUnavaillableRides()}" >
                    <p>
                        <a name="unavaillableRides"/> 
                        <p:panel header="#{msgs.rideListUnavaillableRides}">
                            <!-- primefaces dynamic accordion COOL!  -->
                            <p:accordionPanel  activeIndex="-1" value="#{filteredList.unavaillableRides}" var="ride">
                                <p:tab title=" #{ride.updatedShortcut} #{ride.startDateFormatted} #{ride.endptAddressShort} ">
                                    <ui:include src="/sections/joride/riderlistelement.xhtml" />
                                </p:tab>
                            </p:accordionPanel>
                        </p:panel>
                    </p>
                </h:panelGroup>

                <h:panelGroup  id="updatedRides" rendered="#{filteredList.hasUpdatedRides()}" >
                    <p>
                        <a name="updatedRides"/> 
                        <p:panel header="#{msgs.rideListUpdatedRequests}">
                            <!-- primefaces dynamic accordion COOL!  -->
                            <p:accordionPanel  activeIndex="-1" value="#{filteredList.updatedRides}" var="ride">
                                <p:tab title=" #{ride.updatedShortcut} #{ride.startDateFormatted} #{ride.endptAddressShort} ">
                                    <ui:include src="/sections/joride/riderlistelement.xhtml" />
                                </p:tab>
                            </p:accordionPanel>
                        </p:panel>
                    </p>
                </h:panelGroup>

                <h:panelGroup  id="unclearRides" rendered="#{filteredList.hasUnclearRides()}" >
                    <p>
                        <a name="unclearRides"/> 
                        <p:panel header="#{msgs.rideListUnclearRides}">
                            <!-- primefaces dynamic accordion COOL!  -->
                            <p:accordionPanel  activeIndex="-1" value="#{filteredList.unclearRides}" var="ride">
                                <p:tab title=" #{ride.updatedShortcut} #{ride.startDateFormatted} #{ride.endptAddressShort} ">
                                    <ui:include src="/sections/joride/riderlistelement.xhtml" />
                                </p:tab>
                            </p:accordionPanel>
                        </p:panel>
                    </p>
                </h:panelGroup>


                <pre> TODO: remove after decent debugging phase </pre>
                <pre>
                    #{filteredList.debugPrintout}
                </pre>


            </ui:define>




        </ui:composition>





    </body>
</html>
