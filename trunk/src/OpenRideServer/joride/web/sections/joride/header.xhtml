<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets" 
      xmlns:p="http://primefaces.org/ui"

      xmlns:f="http://java.sun.com/jsf/core">


    <h:head>


        <title>IGNORED</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

    </h:head>
    <body>
        
        <!--  Header Section for all of JoRide -->
        <ui:composition>
            <div id="header">
                <!-- dummy input is there to enforce loading of jquers the primefaces way-->

                <!-- ***  stuff inside update alert section is for polling *** -->
                <!-- **   and displaying  update messages in header        *** -->

                <h:form> <!-- update poll stanza -->
                    <p id="updateAlert">
                        <!-- growl to display a message if there are updates -->
                        <p:growl id="updateGrowl" for="updateDisplay"/>
                        <!--  link is shown if and only if there are updates -->
                        <h:commandLink 
                            id="updateDisplay"
                            value="#{msgs.updates_updateNotification}"
                            action="updates"
                            rendered="#{updatemsg.matchUpdated}"
                            />
                        <p:poll 
                            autoStart="true" 
                            interval="#{updatemsg.updateIntervalSec}"
                            listener="#{updatemsg.getMatchUpdated()}"
                            update="updateDisplay updateGrowl"
                            />
                    </p>
                    <p>  
                        <p:commandLink 
                            id="resetMatchingState"
                            value="#{msgs.updates_updateNotificationOK}"
                            action="#{jprofile.resetLastCustomerCheck()}"
                            rendered="#{updatemsg.matchUpdated}"
                            ajax="false"
                            />
                        <p:tooltip for="resetMatchingState" value="#{msgs.updates_updateNotificationOKTooltip}" />
                    </p>
                </h:form> <!-- end of update poll section stanza -->

                <!-- *** end of update alert stuff *** -->
            </div>
        </ui:composition>

    </body>
</html>
