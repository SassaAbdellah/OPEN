<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">


<h:head>
	<!-- enforce UTF 8. also, header is needed for primefaces to work  -->
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</h:head>



<body>


	<ui:composition template="/templates/navbar1Layout.xhtml">


		<!-- highlight "preferences" tab -->
		<ui:param name="jrtabindex" value="#{jrtab.jorideTabindexPreferences}" />


		<ui:define name="windowTitle">
                #{msgs.title}
            </ui:define>


		<ui:define name="content">





			<h1>#{msgs.nav1_pref_riderPreferences_label}</h1>




			<!-- the profile must be filled with data before anything -->
			<!-- useful can be done with it                           -->
                #{jprofile.updateFromDB()}
                
            <p>
				<!-- Display Request Limits -->
			<div class="formlabel">
				<h:outputFormat value="#{msgs.limits_requestLimitMessage}">
					<f:param name="limits" value="#{jprofile.requestLimit}" />
				</h:outputFormat>
			</div>

			<div class="formlabel">
				<h:outputFormat value="#{msgs.limits_requestsLeftMessage}">
					<f:param name="limits" value="#{jprofile.noLeftRequests}" />
				</h:outputFormat>
			</div>
			</p>

			<h:form>

				<!-- int custRiderprefAge -->

				<!-- riderpref age has been ommited, since not relevant for matching -->

				<!-- char custRiderprefGender -->
				<!-- nickname may not be changed -->


				<!-- custRiderprefGender has been ommited since not relevant for matching -->


				<!-- char custRiderprefSmoker -->

				<div class="formLabel">#{msgs.custRiderprefSmoker}</div>
				<div class="formInput">


					<h:selectOneRadio value="#{jprofile.custRiderprefSmoker}">
						<p>
						<div class="formLabel">
							<f:selectItem itemValue="#{jprofile.smokerChar}"
								itemLabel="#{msgs.custSmokeAcceptSmokingDriver}" />
						</div>
						</p>
						<p>
						<div class="formLabel">
							<f:selectItem itemValue="#{jprofile.nonsmokerChar}"
								itemLabel="#{msgs.custSmokeNotAcceptSmokingDriver}" />
						</div>
						</p>
					</h:selectOneRadio>

				</div>


				<p:commandButton 
					actionListener="#{jprofile.updateRiderPreferencesToDB}"
					value="#{msgs.formApply}" 
					ajax="false" 
					action="preferences" 	
					/>


			</h:form>


		</ui:define>




	</ui:composition>





</body>
</html>
