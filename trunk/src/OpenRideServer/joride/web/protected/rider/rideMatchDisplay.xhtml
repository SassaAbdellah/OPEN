<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<!-- ***************************************************** -->
<!--    Display a list of Matchings for given ride         -->
<!-- ***************************************************** -->

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      >




    <body>


        <!-- ***** Displays matching's data for rider                    **** -->
        <!-- ***** i.e driver's public data,                             **** -->
        <!-- ***** control to accept upon hitch from rider's perspective **** -->

        <ui:composition template="/templates/simpleLayout.xhtml">


            <!-- set "classRider" property to highlight, so that home tab will be higlighted -->
            <ui:param name="classRider" value="Highlight" />

            <ui:define name="windowTitle">
                #{msgs.title}
            </ui:define>

            <ui:define name="content">


                TODO: Ride Match Display

                #{match.smartUpdate()}


                <table>



                    <tr>
                        <td> <span class="formLabel"> #{msgs.matchExpectedPickupTime}                </span> </td> 
                        <td> <span class="formLabel"> &nbsp;:&nbsp;                                  </span> </td>
                        <td> <span class="formInput"> #{match.matchEntity.matchExpectedStartTime} </span> </td> 
                    </tr>
                    <tr>
                        <td> <span class="formLabel"> #{msgs.matchDriversNickname}         </span> </td> 
                        <td> <span class="formLabel"> &nbsp;:&nbsp;                          </span> </td>
                        <td> <span class="formInput"> #{match.drive.custId.custNickname}  </span> </td> 
                    </tr>
                    <tr>
                        <td> <span class="formLabel"> #{msgs.matchDriveID}      </span> </td> 
                        <td> <span class="formLabel"> &nbsp;:&nbsp;             </span> </td>
                        <td> <span class="formInput"> #{match.drive.rideId}  </span> </td> 
                    </tr>
                    
                      <tr>
                        <td> <span class="formLabel"> #{msgs.matchRiderrouteId}      </span> </td> 
                        <td> <span class="formLabel"> &nbsp;:&nbsp;             </span> </td>
                        <td> <span class="formInput"> #{match.ride.riderrouteId}  </span> </td> 
                    </tr>

                    
                    

                    <tr>
                        <td> <span class="formLabel"> #{msgs.matchDriversGender}            </span> </td> 
                        <td> <span class="formLabel"> &nbsp;:&nbsp;                         </span> </td>
                        <td> <span class="formInput"> #{match.publicDriverData.custGender}  </span> </td> 
                    </tr>

                    <tr>
                        <td> <span class="formLabel"> #{msgs.matchDriverLicenseSince}            </span> </td> 
                        <td> <span class="formLabel"> &nbsp;:&nbsp;                              </span> </td>
                        <td> <span class="formInput"> #{match.publicDriverData.custLicensedate}  </span> </td> 
                    </tr>

                    <tr>
                        <td> <span class="formLabel"> #{msgs.matchDriverIsSmoker}             </span> </td> 
                        <td> <span class="formLabel"> &nbsp;:&nbsp;                           </span> </td>
                        <td> <span class="formInput"> #{match.publicDriverData.custIssmoker}  </span> </td> 
                    </tr>


                    <tr>
                        <td> <span class="formLabel"> TODO: driverState             </span> </td> 
                        <td> <span class="formLabel"> &nbsp;:&nbsp;                 </span> </td>
                        <td> <span class="formInput"> #{match.driverState}          </span> </td> 
                    </tr>


                    <tr>
                        <td> <span class="formLabel"> TODO: riderState             </span> </td> 
                        <td> <span class="formLabel"> &nbsp;:&nbsp;                 </span> </td>
                        <td> <span class="formInput"> #{match.riderState}          </span> </td> 
                    </tr>

                    <tr>
                        <td colspan="3">
                            TODO: Add Driver's Rating here once rating is implemented
                        </td>
                    </tr>
                    <tr>
                        <td colspan="3">
                            <p>
                                <h:form>
                                    <h:commandLink actionListener="#{match.acceptDriver(evt)}" action="rider.matchDisplay">
                                        #{msgs.matchAcceptOfferedRide}

                                        <f:param name="#{match.paramRideID}"        value="#{match.drive.rideId}"      />
                                        <f:param name="#{match.paramRiderrouteId}"  value="#{match.ride.riderrouteId}" />    
                                        <f:param name="#{webflow.getParamBack()}"  value="rider"                      />

                                    </h:commandLink>
                                    
                                </h:form>
                            </p>
                        </td>
                    </tr>
                    
                    <tr>
                        <td colspan="3">
                              <p>
                                <h:form>
                                    <h:commandLink actionListener="#{match.rejectDriver(evt)}" action="rider.matchDisplay">
                                        #{msgs.matchRejectOfferedRide}

                                        <f:param name="#{match.paramRideID}"        value="#{match.drive.rideId}"      />
                                        <f:param name="#{match.paramRiderrouteId}"  value="#{match.ride.riderrouteId}" />                                        
                                        <f:param name="#{webflow.getParamBack()}"  value="rider"                      />

                                    </h:commandLink>
                                    
                                </h:form>
                            </p>
                            
                            
                        </td>
                    </tr>

                </table>


                <p> <!-- webflow stanza -->

                    #{webflow.smartUpdate()}

                    <h:form>
                        <h:commandLink value="#{msgs.back}" action="#{webflow.getBack()}"/>
                    </h:form>
                </p>




            </ui:define>




        </ui:composition>





    </body>
</html>
